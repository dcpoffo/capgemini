<div>
    <mat-card>
        <mat-card-title>Alterando Anuncio</mat-card-title>
        <form [formGroup]="form">
            <div>
                <mat-form-field appearance="outline">
                    <input formControlName="nome" matInput placeholder="Nome" [(ngModel)]="anuncio.nome">
                    <mat-error *ngIf="temErro('nome', 'required')">O nome deve ser preenchido</mat-error>
                    <mat-error *ngIf="temErro('nome', 'minlength')">O nome deve ter pelo menos 3 caracteres</mat-error>
                    <mat-error *ngIf="temErro('nome', 'maxlength')">O nome deve ter no máximo 20 caracteres</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" class="select">
                    <mat-label>Cliente</mat-label>
                    <mat-select formControlName="cliente" [(ngModel)]="anuncio.clienteId">
                        <mat-option *ngFor="let cli of clientes" [value]="cli.id"> {{cli.nome}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="temErro('cliente', 'required')">O cliente deve ser selecionado</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Data Início</mat-label>
                    <input formControlName="dataInicio" matInput [matDatepicker]="inicio" [(ngModel)]="anuncio.dataInicio">
                    <mat-error *ngIf="temErro('dataInicio', 'required')">Faltou informar a Data de Início</mat-error>
                    <mat-datepicker-toggle matSuffix [for]="inicio"></mat-datepicker-toggle>
                    <mat-datepicker #inicio></mat-datepicker>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Data Termino</mat-label>
                    <input formControlName="dataTermino" matInput [matDatepicker]="termino" [(ngModel)]="anuncio.dataTermino">
                    <mat-error *ngIf="temErro('dataTermino', 'required')">Faltou informar a Data de Termino</mat-error>
                    <mat-datepicker-toggle matSuffix [for]="termino"></mat-datepicker-toggle>
                    <mat-datepicker #termino></mat-datepicker>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <input formControlName="investimento" type="number" matInput placeholder="Investimento" [(ngModel)]="anuncio.investimentoDiario">
                    <mat-error *ngIf="temErro('investimento', 'required')">O campo deve ser preenchido</mat-error>
                    <mat-error *ngIf="temErro('investimento', 'min')">Valor mínimo: RS 1.00</mat-error>
                </mat-form-field>
            </div>
        </form>
        <button [disabled]="!form.valid" mat-raised-button (click)="atualizar()" color="primary"> Salvar </button>

        <button mat-raised-button (click)="cancelar()"> Cancelar </button>
    </mat-card>
</div>
